diff --git a/cpan/Encode/Encode.pm b/cpan/Encode/Encode.pm
index a56a99947f..b96a850416 100644
--- a/cpan/Encode/Encode.pm
+++ b/cpan/Encode/Encode.pm
@@ -66,7 +66,7 @@ eval {
     local $SIG{__DIE__};
     local $SIG{__WARN__};
     local @INC = @INC;
-    pop @INC if $INC[-1] eq '.';
+    pop @INC if @INC && $INC[-1] eq '.';
     require Encode::ConfigLocal;
 };
 
